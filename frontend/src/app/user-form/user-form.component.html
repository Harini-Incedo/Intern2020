<link rel="stylesheet" href="user-form.component.css">
<ul class="text-center">
  <li class="list-inline-item">
    <a routerLink="/employees" class="btn btn-info">List Employees</a>
      </li>
  <li class="list-inline-item">
    <a routerLink="/addEmployee" class="btn btn-info">Add Employee</a>
      </li>
</ul>
<div class="card my-5">
  <div class="card-body">
    <form (ngSubmit)="onSubmit()" #userForm="ngForm" *ngIf="user!==undefined">
      <div class="form-group">
        <p>Contact Information</p>
        <div>
          <label for="firstName">&emsp;First Name<span style="color: red;">*</span></label>
          <input type="text" [(ngModel)]="user.firstName"
          name="firstName"
          required #firstName="ngModel"
          pattern="[a-zA-Z ]*">
          <div *ngIf="firstName.invalid && firstName.touched"
          class="alert alert-danger">
            <div *ngIf="firstName.errors?.required && firstName.touched">First name is required</div>
            <div *ngIf="firstName.errors?.pattern && firstName.touched">{{firstName.value}} is an invalid first name. Please enter a valid one.</div>
          </div>
        </div>
      <div>
        <label for="lastName">&emsp;Last Name<span style="color: red;">*</span></label>
        <input type="text" [(ngModel)]="user.lastName"
          id="name"
          name="name"
          required #lastName="ngModel"
          pattern="[a-zA-Z ]*">
          <div *ngIf="lastName.invalid && lastName.touched"
          class="alert alert-danger">
            <div *ngIf="lastName.errors?.required && lastName.touched">Last name is required</div>
            <div *ngIf="lastName.errors?.pattern && lastName.touched">{{lastName.value}} is an invalid last name. Please enter a valid one.</div>
          </div>
      </div>
        <label for="email">&emsp;Email<span style="color: red;">*</span></label>
        <input type="email" [(ngModel)]="user.email"
          id="email"
          name="email"
          placeholder="someone@example.com"
          [email]="user.email!==''"
          required #email="ngModel">
          <div *ngIf="email.invalid && email.touched"
          class="alert alert-danger">
            <div *ngIf="email.errors?.required && email.touched">Email is required</div>
            <div *ngIf="email.errors?.email && email.touched">{{email.value}} is an invalid email. Please enter a valid email.</div>
          </div>
      </div>
      <hr>
      <div class="form-group">
        <p>Employee Information</p>
        <div>
          <label for="role">&emsp;Role<span style="color: red;">*</span></label>
          <select id="role" required name="role" [(ngModel)]="user.role" #role="ngModel">
            <option *ngFor="let role of roles" [value]="role">
              {{role}}
            </option>
          </select>
        </div>
        <div>
          <label for="skills">&emsp;Skills</label>
          <select id="skills" name="skill" [(ngModel)]="user.skills" #skill="ngModel">
            <option *ngFor="let skill of skills" [value]="skill">
              {{skill}}
            </option>
          </select>
          <button type="button" (click)="addSkill()">Add Skill</button>
          <div style="border-color: black; border-style:solid; border-width: 1px; margin-top: 1em; margin-left: 1em;"
          [hidden]="selectedSkills.length===0">
            <span *ngFor="let skills of selectedSkills">
              <button class="btn btn-info"
               type="button" (click)="removeSkill(skills)"
               style="margin-top: 5px; margin-bottom: 5px;">{{skills}} X</button>
            </span>
          </div>
        </div>
        <div>
          <label for="department">&emsp;Department<span style="color: red;">*</span></label>
          <select id="department" required name="department"
          #department="ngModel" [(ngModel)]="user.department">
            <option *ngFor="let department of departments" [value]="department">
              {{department}}
            </option>
          </select>
        </div>
        <div>
          <label for="managerName">&emsp;Manager Name<span style="color: red;">*</span></label>
          <input type="text" [(ngModel)]="user.manager"
            id="managerName"
            name="managerName"
            required #managerName="ngModel"
            pattern="[a-zA-Z ]+">
          <div *ngIf="managerName.invalid && managerName.touched"
          class="alert alert-danger">
            <div *ngIf="managerName.errors?.required && managerName.touched">Manager Name is a required field.</div>
            <div *ngIf="managerName.errors?.pattern && managerName.touched">{{ managerName.value }} is an invalid manager name. Please enter a valid manager name.</div>
          </div>
        </div>
      </div>
      <hr>
      <div class="form-group">
        <p>Location and Logistics</p>
        <div>
          <label for="startDate">&emsp;Start Date<span style="color: red;">*</span></label>
          <input type="date" [(ngModel)]="user.startDate"
            id="startDate"
            name="startDate"
            required #startDate="ngModel">
        </div>
        <div>
          <label for="endDate">&emsp;End Date<span style="color: red;">*</span></label>
          <input type="date" [(ngModel)]="user.endDate"
          name="endDate"
          #endDate="ngModel">
          <div *ngIf="endDate.touched && validateEndDate(endDate,startDate)"
          class="alert alert-danger">
            <div *ngIf="endDate.errors?.required && endDate.touched">End Date is a required field.</div>
          </div>
          <div  class="alert alert-danger" *ngIf="endDate.touched && inValidDate">End date cannot be before start date. Please enter a valid end date.</div>
        </div>
        <div>
          <label for="location">&emsp;Location</label>
          <input type="text" [(ngModel)]="user.location"
            id="location"
            name="location"
            #location="ngModel"
            pattern="[a-zA-Z ]+">
          <div *ngIf="location.invalid && location.touched"
          class="alert alert-danger">
            <div *ngIf="location.errors?.pattern && location.touched">{{location.value}} is an invalid location. Please enter a valid one.</div>
          </div>
        </div>
        <div>
          <label for="timezone">&emsp;Time Zone<span style="color: red;">*</span></label>
          <select [(ngModel)]="user.timezone"
            id="timezone"
            name="timezone"
            required
            #timeZone="ngModel">
            <option value="PST">
              (UTC -08:00) Pacific Standard Time
            </option>
            <option value="EST">
              (UTC -05:00) Eastern Standard Time
            </option>
            <option value="IST">
              (UTC +05:30) India Standard Time
            </option>
            <!-- PST, EST, IST
          <option value="International Date Line West">
            (UTC -12:00) International Date Line West
          </option>
          <option value="Midway Islands Time">
            (UTC -11:00) Midway Islands Time
          </option>
          <option value="Hawaii Standard Time">
            (UTC -10:00) Hawaii Standard Time
          </option>
          <option value="Marquesas Islands">
            (UTC -09:30) Marquesas Island
          </option>
          <option value="Alaska Standard Time">
            (UTC -09:00) Alaska Standard Time
          </option>
          <option value="Pacific Standard Time">
            (UTC -08:00) Pacific Standard Time
          </option>
          <option value="Phoenix Standard Time">
            (UTC -07:00) Phoenix Standard Time
          </option>
          <option value="Mountain Standard Time">
            (UTC -07:00) Mountain Standard Time
          </option>
          <option value="Central Standard Time">
            (UTC -06:00) Central Standard Time
          </option>
          <option value="Eastern Standard Time">
            (UTC -05:00) Eastern Standard Time
          </option>
          <option value="Indiana Eastern Standard Time">
            (UTC -05:00) Indiana Eastern Standard Time
          </option>
          <option value="Puerto Rico and US Virgin Islands Time">
            (UTC -04:00) Puerto Rico and US Virgin Islands Time
          </option>
          <option value="Canada Newfoundland Time">
            (UTC -03:30) Canada Newfoundland Time
          </option>
          <option value="Argentina Standard Time">
            (UTC -03:00) Argentina Standard Time
          </option>
          <option value="Brazil Eastern Time">
            (UTC -03:00) Brazil Eastern Time
          </option>
          <option value="Central African Time">
            (UTC -01:00) Central African Time
          </option>
          <option value="Universal Coordinated Time">
            (UTC) Universal Coordinated Time
          </option>
          <option value="European Central Time">
            (UTC +01:00) European Central Time
          </option>
          <option value="Eastern European Time">
            (UTC +02:00) Eastern European Time
          </option>
          <option value="Egypt Standard Time">
            (UTC +02:00) Egypt Standard Time
          </option>
          <option value="Eastern African Time">
            (UTC +03:00) Eastern African Time
          </option>
          <option value="Middle East Time">
            (UTC +03:30) Middle East Time
          </option>
          <option value="Near East Time">
            (UTC +04:00) Near East Time
          </option>
          <option value="Pakistan Lahore Time">
            (UTC +05:00) Pakistan Lahore Time
          </option>
          <option value="India Standard Time">
            (UTC +05:30) India Standard Time
          </option>
          <option value="Bangladesh Standard Time">
            (UTC +06:00) Bangladesh Standard Time
          </option>
          <option value="Vietnam Standard Time">
            (UTC +07:00) Vietnam Standard Time
          </option>
          <option value="China Taiwan Time">
            (UTC +08:00) China Taiwan Time
          </option>
          <option value="Japan Standard Time">
            (UTC +09:00) Japan Standard Time
          </option>
          <option value="Australia Central Time">
            (UTC +09:30) Australia Central Time
          </option>
          <option value="Australia Eastern Time">
            (UTC +10:00) Australia Eastern Time
          </option>
          <option value="Solomon Standard Time">
            (UTC +11:00) Solomon Standard Time
          </option>
          <option value="New Zealand Standard Time">
            (UTC +12:00) New Zealand Standard Time
          </option> -->
          </select>
        </div>
        <div>
          <label for="workingHours">&emsp;Working Hours<span style="color: red;">*</span></label>
          <select [(ngModel)]="user.workingHours"
            id="workingHours"
            name="workingHours"
            required
            #workingHours="ngModel">
            <option value="Part Time">
              Part Time
            </option>
            <option value="Full Time">
              Full Time
            </option>
            <option value="Temporary">
              Temporary
            </option>
          </select>
        </div>
      </div>
      <button type="button" (click)="goBack($event)">&larr;Go Back</button>
      <button type="submit" [disabled]="userForm.form.invalid?true:false" (onclick)="onSubmit()">Save</button>
    </form>
  </div>
</div>